import javax.inject.Inject;
import org.apache.sling.api.resource.Resource;
import org.apache.sling.models.annotations.Model;
import com.day.cq.wcm.api.Page;
import java.util.Locale;

@Model(adaptables = Resource.class)
public class MyComponentModel {

    // Inject the current page
    @Inject
    private Page currentPage;

    public String getPageLanguage() {
        if (currentPage != null) {
            // Retrieve the locale of the page
            Locale locale = currentPage.getLanguage(false);
            if (locale != null) {
                // Return the language code (e.g., "en", "fr")
                return locale.getLanguage();
            }
        }
        return null; // or a default value if the language is not set
    }
}


import javax.inject.Inject;
import org.apache.sling.api.SlingHttpServletRequest;
import org.apache.sling.models.annotations.Model;
import com.day.cq.wcm.api.Page;
import com.day.cq.wcm.api.PageManager;
import java.util.Locale;

@Model(adaptables = SlingHttpServletRequest.class)
public class MyComponentModel {

    @Inject
    private SlingHttpServletRequest request;

    public String getPageLanguage() {
        PageManager pageManager = request.getResourceResolver().adaptTo(PageManager.class);
        Page currentPage = pageManager.getContainingPage(request.getResource());
        if (currentPage != null) {
            Locale locale = currentPage.getLanguage(false);
            if (locale != null) {
                return locale.getLanguage();
            }
        }
        return null;
    }
}
