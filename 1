import java.util.Locale;

public class LocaleValidator {
    public static boolean isValidLocale(String localeStr) {
        if (localeStr == null || !localeStr.matches("^[a-z]{2}_[A-Z]{2}$")) {
            return false; // Ensure format "language_COUNTRY"
        }

        String[] parts = localeStr.split("_");
        String language = parts[0];
        String country = parts[1];
        Locale locale = new Locale(language, country);

        // Check if the language and country are valid ISO codes
        return Locale.getAvailableLocales() != null &&
               !locale.getDisplayCountry().isEmpty() &&
               !locale.getDisplayLanguage().isEmpty();
    }
    
    public static void main(String[] args) {
        System.out.println(isValidLocale("en_US")); // true
        System.out.println(isValidLocale("en_XX")); // false
        System.out.println(isValidLocale("xx_US")); // false
    }
}
